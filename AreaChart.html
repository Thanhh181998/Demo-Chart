<style>
    #chartdiv {
      width: 100%;
      height: 400px;
      margin: auto;
    }
    
    </style>
    
    <!-- Resources -->
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
    
    <!-- Chart code -->
    <script>
    am4core.ready(function() {

    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end
    
    var chart = am4core.create("chartdiv", am4charts.XYChart);
    
    chart.data = [{
      "date": new Date(2019, 10, 18),
      "men": 187,
      "women": 650,
      "unisex": 121
    }, {
      "date": new Date(2019, 10, 19),
      "men": 1567,
      "women": 683,
      "unisex": 146
    }, {
      "date": new Date(2019, 10, 20),
      "men": 617,
      "women": 691,
      "unisex": 138
    }, {
      "date": new Date(2019, 10, 21),
      "men": 160,
      "women": 642,
      "unisex": 127
    }, {
      "date": new Date(2019, 10, 22),
      "men": 1660,
      "women": 699,
      "unisex": 105
    }, {
      "date": new Date(2019, 10, 23),
      "men": 1683,
      "women": 721,
      "unisex": 109
    }, {
      "date": new Date(2019, 10, 24),
      "men": 1691,
      "women": 737,
      "unisex": 112
    }, {
      "date": new Date(2019, 10, 25),
      "men": 1298,
      "women": 680,
      "unisex": 101
    }, {
      "date": new Date(2019, 10, 26),
      "men": 1275,
      "women": 664,
      "unisex": 97
    }, {
      "date": new Date(2019, 10, 27),
      "men": 1246,
      "women": 648,
      "unisex": 93
    }, {
      "date": new Date(2019, 10, 28),
      "men": 1318,
      "women": 697,
      "unisex": 111
    }, {
      "date": new Date(2019, 10, 29),
      "men": 1213,
      "women": 633,
      "unisex": 87
    }, {
      "date": new Date(2019, 10, 30),
      "men": 1199,
      "women": 621,
      "unisex": 79
    }, {
      "date": new Date(2019, 11, 01),
      "men": 1165,
      "women": 232,
      "unisex": 75
    }, {
      "date": new Date(2019, 11, 02),
      "men": 1145,
      "women": 219,
      "unisex": 88
    }, {
      "date": new Date(2019, 11, 03),
      "men": 1163,
      "women": 201,
      "unisex": 82
    }, {
      "date": new Date(2019, 11, 04),
      "men": 1180,
      "women": 285,
      "unisex": 87
    }, {
      "date": new Date(2019, 11, 05),
      "men": 1159,
      "women": 277,
      "unisex": 71
    }
    ];
    
    let totalMen = 0;
    //chart.dateFormatter.inputDateFormat = "yyyy-mm-dd";
    var dateAxis = chart.xAxes.push(new am4charts.DateAxis());
    dateAxis.renderer.minGridDistance = 60;
    dateAxis.startLocation = 0.5;
    dateAxis.endLocation = 0.5;
    // dateAxis.baseInterval = {
    //   timeUnit: "date",
    //   count: 0.5
    // }
    var tooltipCustom = `
            <div style="padding: 10px;width: fit-content;min-width: 160px;>
            <div style="text-align: left; padding: 5px 0px">
                <span style="color: black; font-size: 18px;  font-weight: bold;">Water Consumed</span>
            </div>
            <div style="display: flex">
                <div style="flex: 1">
                    <span style="color: black;">Women</span>
                </div>
                <div style="flex: 1"> 
                    <span style="color: black;  font-weight: bold;">{men} gal</span>
                </div>
            </div>
            <div style="display: flex">
                <div style="flex: 1">
                    <span style="color: black;">Men</span>
                </div>
                <div style="flex: 1"> 
                    <span style="color: black;  font-weight: bold;">{women} gal</span>
                </div>
            </div>
            <div style="display: flex">
                <div style="flex: 1">
                    <span style="color: black;">Unisex</span>
                </div>
                <div style="flex: 1"> 
                    <span style="color: black;  font-weight: bold;">{unisex} gal</span>
                </div>
            </div>
            <hr>
            <div style="text-align: left; padding: 5px 0px">
                <span style="color: black; font-size: 18px;  font-weight: bold;">Water Saved</span>
            </div>
            <div style="display: flex">
                <div style="flex: 1">
                    <span style="color: black;">Women</span>
                </div>
                <div style="flex: 1"> 
                    <span style="color: black;  font-weight: bold;">56 gal</span>
                </div>
            </div>
            <div style="display: flex">
                <div style="flex: 1">
                    <span style="color: black;">Men</span>
                </div>
                <div style="flex: 1"> 
                    <span style="color: black;   font-weight: bold;">78 gal</span>
                </div>
            </div>
            <div style="display: flex">
                <div style="flex: 1">
                    <span style="color: black; ">Unisex</span>
                </div>
                <div style="flex: 1"> 
                    <span style="color: black;  font-weight: bold;">15 gal</span>
                </div>
            </div>
        </div>
    `;
    
    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.tooltip.disabled = true;
    
    var series = chart.series.push(new am4charts.LineSeries());
    series.dataFields.dateX = "date";
    series.name = "men";
    series.dataFields.valueY = "men";
    series.fillOpacity = 0.6;
    series.strokeWidth = 1;
    series.stacked = true;
    series.tensionX = 0.77;
    series.fill = am4core.color("#F8C388");
    series.stroke = am4core.color("#FACD95");

    var series2 = chart.series.push(new am4charts.LineSeries());
    series2.name = "women";
    series2.dataFields.dateX = "date";
    series2.dataFields.valueY = "women";
    series2.tooltipHTML = tooltipCustom;
    series2.tooltip.background.fill = am4core.color("#FFF");
    series2.tooltip.getFillFromObject = false;
    series2.tooltip.getStrokeFromObject = true;
    series2.tooltip.background.strokeWidth = 3;
    series2.sequencedInterpolation = true;
    series2.fillOpacity = 0.6;
    series2.stacked = true;
    series2.strokeWidth = 1;
    series2.tensionX = 0.77;
    series2.fill = am4core.color("#EFB49E");
    series2.stroke = am4core.color("#EEAD94");
    
    var series3 = chart.series.push(new am4charts.LineSeries());
    series3.name = "unisex";
    series3.dataFields.dateX = "date";
    series3.dataFields.valueY = "unisex";
    series3.sequencedInterpolation = true;
    series3.fillOpacity = 0.6;
    series3.defaultState.transitionDuration = 1000;
    series3.stacked = true;
    series3.strokeWidth = 1;
    series3.tensionX = 0.77;
    series3.fill = am4core.color("#F4D0CD");
    series3.stroke = am4core.color("#F2BAB6");
    
    chart.cursor = new am4charts.XYCursor();
    chart.cursor.xAxis = dateAxis;
    
    // Add a legend
    chart.legend = new am4charts.Legend();
    chart.legend.position = "top";
    
    // axis ranges
    
    
    }); // end am4core.ready()
    </script>
    
    <!-- HTML -->
    <div id="chartdiv"></div>